function calendarRender(){document.addEventListener("DOMContentLoaded",function(){e()});function e(){const e=new Date,n=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()+1).padStart(2,"0")}`,s=`${e.getFullYear()}-12-31`,o={header:!0,dynamicTyping:!0,skipEmptyLines:!0};fetch("/data/my/myData.csv").then(e=>e.text()).then(e=>Papa.parse(e,o).data).then(e=>{const o=Object.keys(e[0]);e=e.flatMap(e=>e[o[1]].split(",").map(t=>({title:t,start:e.date===s?n:e.date}))),e=[],t(e).render()}).catch(e=>{console.error("Error fetching data:",e)})}function t(e){return new FullCalendar.Calendar(document.getElementById("calendar"),{events:e,locale:"zh-cn",dayHeaderContent:function(e){return e.text.replace("å‘¨","")},dayCellContent:function(e){var n=Lunar.fromDate(e.date),s=Solar.fromDate(e.date),t=n.getJieQi()+n.getFestivals()+s.getFestivals(),t=t.length===0?`<small>${n.getDayInChinese()}</small>`:`<small class="festivals">${t}</small>`;return{html:`<span>${e.dayNumberText}</span> ${t}`}}})}function n(e){return e.split(`
`).map(e=>e.split(","))}}calendarRender()